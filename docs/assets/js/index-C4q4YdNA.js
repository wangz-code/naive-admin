import{R as e,ad as t,aV as s,ab as a,ah as i}from"./celerisComponents-DoMVLPED.js";import{_ as n}from"./CurrentPermissionMode.vuevuetypescriptsetuptruelang-DbKy4hBr.js";import{c as l,l as o,d as r}from"./index-CWVfZa1M.js";import{d,c as u,N as c,a2 as p,u as m,R as f,Q as y,f as h,a8 as b}from"./vue-On1Nx3Ly.js";const g=d({__name:"index",setup(d){const g=l(),{isBackendPermissionMode:k,refreshMenu:v}=o(),{t:R}=r();function _(e){return t=this,s=null,a=function*(){const t=`${e}FakeToken`;g.setToken(t),yield g.getUserInfoAction(),yield v()},new Promise(((e,i)=>{var n=e=>{try{o(a.next(e))}catch(t){i(t)}},l=e=>{try{o(a.throw(e))}catch(t){i(t)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,l);o((a=a.apply(t,s)).next())}));var t,s,a}const M=u((()=>g.getRoleList.includes(e.ADMIN))),x=u((()=>g.getRoleList.includes(e.USER)));return(l,o)=>{const r=s,d=a,u=i,g=t;return f(),c(g,{title:m(R)("page.permission.pageTitles.backend")},{default:p((()=>[y(n),y(r,{class:"my-4",type:"info",title:m(R)("page.permission.clickToSeeLeftMenuChange"),"show-icon":""},null,8,["title"]),y(g,{class:"mt-4",title:m(R)("page.permission.backendPermissionSwitchTitle"),embedded:"",bordered:!1},{default:p((()=>[y(u,null,{default:p((()=>[y(d,{type:m(M)?"primary":"default",disabled:!m(k),onClick:o[0]||(o[0]=t=>_(m(e).ADMIN))},{default:p((()=>[h(b(m(e).ADMIN),1)])),_:1},8,["type","disabled"]),y(d,{type:m(x)?"primary":"default",disabled:!m(k),onClick:o[1]||(o[1]=t=>_(m(e).USER))},{default:p((()=>[h(b(m(e).USER),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1},8,["title"])])),_:1},8,["title"])}}});export{g as default};
