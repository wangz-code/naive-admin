import{R as e,ad as t,ap as s,aV as a,ab as o,ah as i}from"./celerisComponents-DoMVLPED.js";import{_ as l}from"./CurrentPermissionMode.vuevuetypescriptsetuptruelang-DbKy4hBr.js";import{l as n,m as r,c as d,d as u}from"./index-CWVfZa1M.js";import{_ as p}from"./Authority.vuevuetypescriptsetuptruelang-DdUjx0Ou.js";import{d as c,c as m,N as f,a2 as y,u as g,af as _,R as x,Q as T,f as v,a8 as b,S as h,ab as k,q as B,F as P}from"./vue-On1Nx3Ly.js";const C=c({__name:"ButtonPermission",setup(c){const{hasPermission:C,isBackendPermissionMode:R}=n(),M=r(),S=d(),{t:j}=u(),A=m((()=>S.getRoleList.includes(e.ADMIN))),w=m((()=>S.getRoleList.includes(e.USER)));function I(e){return t=this,s=null,a=function*(){const t=`${e}FakeToken`;S.setToken(t),yield S.getUserInfoAction(),yield M.changePermissionCode()},new Promise(((e,o)=>{var i=e=>{try{n(a.next(e))}catch(t){o(t)}},l=e=>{try{n(a.throw(e))}catch(t){o(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,l);n((a=a.apply(t,s)).next())}));var t,s,a}return(n,r)=>{const d=t,u=s,c=a,m=o,S=i,N=_("auth");return x(),f(d,{title:g(j)("page.permission.pageTitles.button")},{default:y((()=>[T(l),T(d,{class:"my-4",title:g(j)("page.permission.currentCode"),embedded:"",bordered:!1},{default:y((()=>[v(b(g(M).getPermissionCodes),1)])),_:1},8,["title"]),T(u),T(c,{class:"mt-4",type:"info",title:g(j)("page.permission.backendLeftMenuChangeTitle"),"show-icon":""},null,8,["title"]),T(u),T(d,{class:"mt-4",title:g(j)("page.permission.backendPermissionSwitchTitle"),embedded:"",bordered:!1},{default:y((()=>[T(S,null,{default:y((()=>[T(m,{type:g(A)?"primary":"default",disabled:!g(R),onClick:r[0]||(r[0]=t=>I(g(e).ADMIN))},{default:y((()=>[v(b(g(e).ADMIN),1)])),_:1},8,["type","disabled"]),T(m,{type:g(w)?"primary":"default",disabled:!g(R),onClick:r[1]||(r[1]=t=>I(g(e).USER))},{default:y((()=>[v(b(g(e).USER),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1},8,["title"]),g(R)?(x(),h(P,{key:0},[T(u,null,{default:y((()=>[v(b(g(j)("page.permission.componentWayTitle")),1)])),_:1}),T(p,{value:"1000"},{default:y((()=>[T(m,{type:"primary",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:"1000"})),1)])),_:1})])),_:1}),T(p,{value:"2000"},{default:y((()=>[T(m,{type:"success",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:"2000"})),1)])),_:1})])),_:1}),T(p,{value:["1000","2000"]},{default:y((()=>[T(m,{type:"error",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:["1000","2000"]})),1)])),_:1})])),_:1}),T(u,null,{default:y((()=>[v(b(g(j)("page.permission.functionWayTitle")),1)])),_:1}),g(C)("1000")?(x(),f(m,{key:0,type:"primary",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:"1000"})),1)])),_:1})):k("",!0),g(C)("2000")?(x(),f(m,{key:1,type:"success",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:"2000"})),1)])),_:1})):k("",!0),g(C)(["1000","2000"])?(x(),f(m,{key:2,type:"error",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:["1000","2000"]})),1)])),_:1})):k("",!0),T(u,null,{default:y((()=>[v(b(g(j)("page.permission.directiveWayTitle")),1)])),_:1}),B((x(),f(m,{type:"primary",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:"1000"})),1)])),_:1})),[[N,"1000"]]),B((x(),f(m,{type:"success",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:"2000"})),1)])),_:1})),[[N,"2000"]]),B((x(),f(m,{type:"error",class:"mx-4"},{default:y((()=>[v(b(g(j)("page.permission.codeButtonText",{code:["1000","2000"]})),1)])),_:1})),[[N,["1000","2000"]]])],64)):k("",!0)])),_:1},8,["title"])}}});export{C as default};
