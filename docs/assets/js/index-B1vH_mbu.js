import{R as e,aj as t,aK as s,a7 as a,af as i}from"./celerisComponents-BGXnFYJW.js";import{_ as n}from"./CurrentPermissionMode.vuevuetypescriptsetuptruelang-Uvi3ZV5z.js";import{a as o,e as l,u as r}from"./index-BqrQECW4.js";import{d,c as u,N as c,a2 as p,u as m,R as f,Q as y,f as g,a6 as h}from"./vue-RHHSlUGw.js";const k=d({__name:"index",setup(d){const k=o(),{isBackendPermissionMode:b,refreshMenu:v}=l(),{t:_}=r();function M(e){return t=this,s=null,a=function*(){const t=`${e}FakeToken`;k.setToken(t),yield k.getUserInfoAction(),yield v()},new Promise(((e,i)=>{var n=e=>{try{l(a.next(e))}catch(t){i(t)}},o=e=>{try{l(a.throw(e))}catch(t){i(t)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,o);l((a=a.apply(t,s)).next())}));var t,s,a}const R=u((()=>k.getRoleList.includes(e.ADMIN))),j=u((()=>k.getRoleList.includes(e.USER)));return(o,l)=>{const r=s,d=a,u=i,k=t;return f(),c(k,{title:m(_)("page.permission.pageTitles.backend")},{default:p((()=>[y(n),y(r,{class:"my-4",type:"info",title:m(_)("page.permission.clickToSeeLeftMenuChange"),"show-icon":""},null,8,["title"]),y(k,{class:"mt-4",title:m(_)("page.permission.backendPermissionSwitchTitle"),embedded:"",bordered:!1},{default:p((()=>[y(u,null,{default:p((()=>[y(d,{type:m(R)?"primary":"default",disabled:!m(b),onClick:l[0]||(l[0]=t=>M(m(e).ADMIN))},{default:p((()=>[g(h(m(e).ADMIN),1)])),_:1},8,["type","disabled"]),y(d,{type:m(j)?"primary":"default",disabled:!m(b),onClick:l[1]||(l[1]=t=>M(m(e).USER))},{default:p((()=>[g(h(m(e).USER),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1},8,["title"])])),_:1},8,["title"])}}});export{k as default};
