var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(a,r,l)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l;import{d as i,r as t,R as u,N as d,a2 as p,Q as c,u as m,ac as g,U as f,f as v,a8 as w}from"./vue-On1Nx3Ly.js";import{d as b,c as h}from"./index-CWVfZa1M.js";import{ar as y,as as P,at as j,ai as k,ab as O,av as _}from"./celerisComponents-DoMVLPED.js";const x={class:"flex flex-col items-end"},U={class:"w-full"},z=i({__name:"SignUp",setup(e){const{t:i}=b(),z=t(null),M=t({username:"kirklin",password:"123456",confirmPassword:"123456"}),q=y(),K=t(!1),S=P(),B={username:[{required:!0,trigger:["blur"],message:i("page.login.form.username.error")}],password:[{required:!0,trigger:["blur"],message:i("page.login.form.password.error")}],confirmPassword:[{required:!0,trigger:["blur"],message:i("page.login.form.confirmPassword.error")},{validator:(e,a)=>a===M.value.password,message:i("page.login.form.confirmPassword.validator"),trigger:["blur","password-input"]}]};function C(e){var t;e.preventDefault(),K.value=!0,null==(t=z.value)||t.validate((t=>{return u=this,d=null,p=function*(){if(t)K.value=!1,q.error("Invalid credentials");else{const t=yield h().login((e=((e,a)=>{for(var r in a||(a={}))o.call(a,r)&&n(e,r,a[r]);if(l)for(var r of l(a))s.call(a,r)&&n(e,r,a[r]);return e})({},{username:"kirklin",password:"123456"}),u={remember:!0,errorMessageMode:"none"},a(e,r(u))));t&&(K.value=!1,S.success({title:i("page.login.notification.loginSuccessMessage"),content:i("page.login.notification.welcomeBackMessage",{username:t.fullName})}))}var e,u},new Promise(((a,r)=>{var l=a=>{try{s(p.next(a))}catch(e){r(e)}},o=a=>{try{s(p.throw(a))}catch(e){r(e)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,o);s((p=p.apply(u,d)).next())}));var u,d,p}))}return(e,a)=>(u(),d(m(_),{ref_key:"formRef",ref:z,model:M.value,rules:B},{default:p((()=>[c(m(j),{path:"username",label:m(i)("page.login.form.username.label")},{default:p((()=>[c(m(k),{value:M.value.username,"onUpdate:value":a[0]||(a[0]=e=>M.value.username=e),size:"large",placeholder:m(i)("page.login.form.username.placeholder"),onKeydown:g(C,["enter"])},null,8,["value","placeholder"])])),_:1},8,["label"]),c(m(j),{path:"password",label:m(i)("page.login.form.password.label")},{default:p((()=>[c(m(k),{value:M.value.password,"onUpdate:value":a[1]||(a[1]=e=>M.value.password=e),type:"password",size:"large","show-password-on":"click",placeholder:m(i)("page.login.form.password.placeholder"),onKeydown:g(C,["enter"])},null,8,["value","placeholder"])])),_:1},8,["label"]),c(m(j),{path:"confirmPassword",label:m(i)("page.login.form.confirmPassword.label"),first:""},{default:p((()=>[c(m(k),{value:M.value.confirmPassword,"onUpdate:value":a[2]||(a[2]=e=>M.value.confirmPassword=e),type:"password",disabled:!M.value.password,size:"large","show-password-on":"click",placeholder:m(i)("page.login.form.confirmPassword.placeholder"),onKeydown:g(C,["enter"])},null,8,["value","disabled","placeholder"])])),_:1},8,["label"]),f("div",x,[f("div",U,[c(m(O),{type:"primary",loading:K.value,class:"!w-full",size:"large",onClick:C},{default:p((()=>[v(w(m(i)("page.login.form.registerButton")),1)])),_:1},8,["loading"])])])])),_:1},8,["model"]))}});export{z as _};
