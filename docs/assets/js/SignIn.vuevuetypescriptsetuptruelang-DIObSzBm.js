var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,l=(a,o,r)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[o]=r,n=(e,a)=>{for(var o in a||(a={}))s.call(a,o)&&l(e,o,a[o]);if(r)for(var o of r(a))t.call(a,o)&&l(e,o,a[o]);return e};import{c as i,d as c,m as p,r as u,R as g,N as m,a2 as d,Q as f,u as v,ac as w,U as b,f as h,a8 as y}from"./vue-On1Nx3Ly.js";import{aq as O,ar as j,as as _,ai as P,at as k,au as x,ab as N,av as z}from"./celerisComponents-DoMVLPED.js";import{e as C,I as M,d as q,c as H}from"./index-CWVfZa1M.js";const I=C(O,"en"),L=i((()=>I.value)),S=class{static configure(e){this.options=n(n({},this.options),e)}static getOptions(){return this.options}static get locale(){return L.value||this.options.locale}static get fallbackLocale(){return this.options.fallbackLocale||this.locale}static get messagesHandler(){return this.options.messagesHandler}static get otherOptions(){return this.options.otherOptions}};S.options={messagesHandler:()=>{},locale:"en",fallbackLocale:"en"};M.getAllCodes().map((e=>({code:e,nativeName:M.getNativeName(e),name:M.getName(e)})));const U={class:"flex flex-col items-end gap-6"},A={class:"flex justify-between w-full"},B={class:"w-full"},D=c({__name:"SignIn",emits:["forgot-password"],setup(e,{emit:r}){const s=r,{t:t}=q(),l=j(),i=_(),c=p({username:"admin",password:"123456"}),O=p({username:[{required:!0,message:t("page.login.form.username.error"),trigger:"blur"}],password:[{required:!0,message:t("page.login.form.password.error"),trigger:"blur"}]}),C=u(!1),M=u();function I(e){return r=this,s=null,p=function*(){var r,s,p;e.preventDefault();try{yield null==(r=M.value)?void 0:r.validate(),C.value=!0;try{const e=yield H().login((s=n({},v(c)),p={remember:!0,errorMessageMode:"none"},a(s,o(p))));e&&i.success({title:t("page.login.notification.loginSuccessMessage"),content:t("page.login.notification.welcomeBackMessage",{username:e.fullName})})}catch(u){l.error(t("page.login.form.incorrectAccountOrPassword"))}}finally{C.value=!1}},new Promise(((a,o)=>{var t=a=>{try{n(p.next(a))}catch(e){o(e)}},l=a=>{try{n(p.throw(a))}catch(e){o(e)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(t,l);n((p=p.apply(r,s)).next())}));var r,s,p}return(e,a)=>{const o=P,r=k,l=x,n=N,i=z;return g(),m(i,{ref_key:"loginFormRef",ref:M,model:v(c),rules:v(O)},{default:d((()=>[f(r,{path:"username",label:v(t)("page.login.form.username.label")},{default:d((()=>[f(o,{value:v(c).username,"onUpdate:value":a[0]||(a[0]=e=>v(c).username=e),placeholder:v(t)("page.login.form.username.placeholder"),size:"large",autocomplete:"on",onKeydown:w(I,["enter"])},null,8,["value","placeholder"])])),_:1},8,["label"]),f(r,{path:"password",label:v(t)("page.login.form.password.label")},{default:d((()=>[f(o,{value:v(c).password,"onUpdate:value":a[1]||(a[1]=e=>v(c).password=e),type:"password",placeholder:v(t)("page.login.form.password.placeholder"),"show-password-on":"click",autocomplete:"on",size:"large",onKeydown:w(I,["enter"])},null,8,["value","placeholder"])])),_:1},8,["label"]),b("div",U,[b("div",A,[f(l,{size:"large"},{default:d((()=>[h(y(v(t)("page.login.form.remember")),1)])),_:1}),f(n,{text:"",type:"primary",onClick:a[2]||(a[2]=e=>s("forgot-password"))},{default:d((()=>[h(y(v(t)("page.login.form.forgetPassword")),1)])),_:1})]),b("div",B,[f(n,{type:"primary",loading:v(C),class:"w-full!",size:"large",onClick:I},{default:d((()=>[h(y(v(t)("page.login.form.loginButton")),1)])),_:1},8,["loading"])])])])),_:1},8,["model","rules"])}}});export{D as _};
