import{R as e,aj as t,a9 as s,aK as a,a7 as o,af as i}from"./celerisComponents-BGXnFYJW.js";import{_ as l}from"./CurrentPermissionMode.vuevuetypescriptsetuptruelang-Uvi3ZV5z.js";import{e as n,f as r,a as d,u}from"./index-BqrQECW4.js";import{_ as p}from"./Authority.vuevuetypescriptsetuptruelang-DGxPSHiE.js";import{d as c,c as m,N as f,a2 as y,u as g,ad as _,R as x,Q as T,f as v,a6 as h,S as k,a7 as b,q as B,F as P}from"./vue-RHHSlUGw.js";const C=c({__name:"ButtonPermission",setup(c){const{hasPermission:C,isBackendPermissionMode:R}=n(),j=r(),M=d(),{t:A}=u(),I=m((()=>M.getRoleList.includes(e.ADMIN))),S=m((()=>M.getRoleList.includes(e.USER)));function w(e){return t=this,s=null,a=function*(){const t=`${e}FakeToken`;M.setToken(t),yield M.getUserInfoAction(),yield j.changePermissionCode()},new Promise(((e,o)=>{var i=e=>{try{n(a.next(e))}catch(t){o(t)}},l=e=>{try{n(a.throw(e))}catch(t){o(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,l);n((a=a.apply(t,s)).next())}));var t,s,a}return(n,r)=>{const d=t,u=s,c=a,m=o,M=i,N=_("auth");return x(),f(d,{title:g(A)("page.permission.pageTitles.button")},{default:y((()=>[T(l),T(d,{class:"my-4",title:g(A)("page.permission.currentCode"),embedded:"",bordered:!1},{default:y((()=>[v(h(g(j).getPermissionCodes),1)])),_:1},8,["title"]),T(u),T(c,{class:"mt-4",type:"info",title:g(A)("page.permission.backendLeftMenuChangeTitle"),"show-icon":""},null,8,["title"]),T(u),T(d,{class:"mt-4",title:g(A)("page.permission.backendPermissionSwitchTitle"),embedded:"",bordered:!1},{default:y((()=>[T(M,null,{default:y((()=>[T(m,{type:g(I)?"primary":"default",disabled:!g(R),onClick:r[0]||(r[0]=t=>w(g(e).ADMIN))},{default:y((()=>[v(h(g(e).ADMIN),1)])),_:1},8,["type","disabled"]),T(m,{type:g(S)?"primary":"default",disabled:!g(R),onClick:r[1]||(r[1]=t=>w(g(e).USER))},{default:y((()=>[v(h(g(e).USER),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1},8,["title"]),g(R)?(x(),k(P,{key:0},[T(u,null,{default:y((()=>[v(h(g(A)("page.permission.componentWayTitle")),1)])),_:1}),T(p,{value:"1000"},{default:y((()=>[T(m,{type:"primary",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:"1000"})),1)])),_:1})])),_:1}),T(p,{value:"2000"},{default:y((()=>[T(m,{type:"success",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:"2000"})),1)])),_:1})])),_:1}),T(p,{value:["1000","2000"]},{default:y((()=>[T(m,{type:"error",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:["1000","2000"]})),1)])),_:1})])),_:1}),T(u,null,{default:y((()=>[v(h(g(A)("page.permission.functionWayTitle")),1)])),_:1}),g(C)("1000")?(x(),f(m,{key:0,type:"primary",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:"1000"})),1)])),_:1})):b("",!0),g(C)("2000")?(x(),f(m,{key:1,type:"success",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:"2000"})),1)])),_:1})):b("",!0),g(C)(["1000","2000"])?(x(),f(m,{key:2,type:"error",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:["1000","2000"]})),1)])),_:1})):b("",!0),T(u,null,{default:y((()=>[v(h(g(A)("page.permission.directiveWayTitle")),1)])),_:1}),B((x(),f(m,{type:"primary",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:"1000"})),1)])),_:1})),[[N,"1000"]]),B((x(),f(m,{type:"success",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:"2000"})),1)])),_:1})),[[N,"2000"]]),B((x(),f(m,{type:"error",class:"mx-4"},{default:y((()=>[v(h(g(A)("page.permission.codeButtonText",{code:["1000","2000"]})),1)])),_:1})),[[N,["1000","2000"]]])],64)):b("",!0)])),_:1},8,["title"])}}});export{C as default};
