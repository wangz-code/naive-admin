import{t as e,B as a,y as l,g as t,C as o,_ as s,c as r,S as n,d as i,A as u,f as p,T as d}from"./numberUtils-TdVfiMTJ.js";import{d as f,a as m,o as c,c as h,w as b,b as y,e as v,f as _,h as k,B as j,v as g,L as w}from"./index-PiH8oZvg.js";import{u as U}from"./use-message-8L9BabVA.js";import{r as x}from"./utils-C_CkWTIT.js";import{N as z}from"./Input-CB4e8lCB.js";import{N as C,a as R}from"./FormItem-CxvfxkWt.js";import{_ as V,a as P}from"./Grid-CHLiTEFg.js";import{_ as S}from"./DatePicker-CX1Cyhsz.js";import{_ as T}from"./Select-3opQxzgV.js";import{_ as D}from"./Dropdown-BxDTdXQ9.js";import{_ as F}from"./Space-BRbewzT8.js";import"./Flex-BhohAjne.js";import"./get-slot-BjAOOWF7.js";import"./DataTable-BDWb3vbX.js";import"./Checkbox-Dj8N1fWL.js";import"./use-merged-state-CN59-VMd.js";import"./RadioGroup-C5Ck7yu2.js";import"./Popover-BijzfXgP.js";import"./use-compitable-CL_hcFQb.js";import"./next-frame-once-DiJwGkuW.js";import"./FocusDetector-C2iAJpJH.js";import"./create-Bylz8BGN.js";import"./Tooltip-D1QXMDop.js";import"./Empty-BAVfKmQ0.js";import"./use-locale-CYRI75Nu.js";import"./Pagination-CSfkH6c3.js";import"./Forward-DRHv-Gzz.js";import"./Popselect-080uXvhx.js";import"./Tag-DYGN1gAi.js";import"./isNil-aV-w2MPu.js";import"./index-Ba1Yspn1.js";import"./Checkmark-CcAPOP5W.js";const A=a=>{const l=[];for(let e=0;e<50;e++)l.push({title:"单据日期"+e,key:"billdate"+e,width:100});return[{type:"selection",fixed:"left"},{title:"单据日期",key:"billdate",width:100},{title:"姓名",key:"name",width:100},{title:"联系电话",key:"phone",width:100},{title:"销售金额",key:"sales",width:100,align:"right",render:e("sales")},{title:"收款金额",width:100,key:"payment",align:"right",render:e("payment")},{title:"地址",key:"address",width:100},{title:"单据状态",key:"state",width:100},...l,{title:"操作",key:"action",fixed:"right",align:"center",width:100,render:a}]},B=f({__name:"index",setup(e){const f=U(),B=m(null),{tableRef:G,reload:I}=a(),K={fuzzy:"",filter:{name:"",state:null,saleValue:null,where:"",phone:"",select:"",stateValue:"",dateRange:null}},N=()=>g(j,{size:"small",onClick:()=>{f.info("action")}},(()=>"操作")),$=[{label:"批量发起",key:"submit",icon:x(n)},{label:"批量审核",key:"audit",icon:x(i)},{label:"批量驳回",key:"reject",icon:x(u)},{label:"批量反审",key:"reAudit",icon:x(p)},{label:"批量删除",key:"delete",icon:x(d)}],q=[["0","全部收款"],["1","部分收款"],["9","未收款"]].map((e=>({label:e[1],value:e[0]}))),E=["","起草","待审","通过"].map((e=>({label:e||"全部",value:e})));return(e,a)=>{const n=z,i=s,u=C,p=V,d=S,f=T,m=P,g=R,U=r,x=D,Q=F,H=w;return c(),h(H,null,{default:b((()=>[y(v(l),{ref_key:"tableRef",ref:G,columns:v(A)(N),api:v(t),rowkey:"key",params:K},{form:b((({collapsed:a,reload:l,qParams:t})=>[y(g,{ref_key:"formRef",ref:B,"label-placement":"left","label-width":"auto",model:t},{default:b((()=>[y(m,{"x-gap":8,"y-gap":15,cols:"2 s:3 m:4 l:5 xl:6",collapsed:a,"collapsed-rows":1,responsive:"screen"},{default:b((()=>[y(i,{label:e.$t("common.likeQuery"),path:"fuzzy","show-feedback":!1},{default:b((()=>[y(n,{value:t.fuzzy,"onUpdate:value":e=>t.fuzzy=e,placeholder:e.$t("common.input"),clearable:"",onKeyup:_(l,["enter"]),onClear:l},null,8,["value","onUpdate:value","placeholder","onKeyup","onClear"])])),_:2},1032,["label"]),y(p,null,{default:b((()=>[y(u,{label:"姓名",path:"user.name","show-feedback":!1,rule:[{required:!0,message:"姓名必填"}]},{default:b((()=>[y(n,{value:t.filter.name,"onUpdate:value":e=>t.filter.name=e,placeholder:"输入姓名"},null,8,["value","onUpdate:value"])])),_:2},1024)])),_:2},1024),y(p,{span:2},{default:b((()=>[y(u,{label:"单据日期","show-feedback":!1,path:"phone"},{default:b((()=>[y(d,{value:t.filter.dateRange,"onUpdate:value":e=>t.filter.dateRange=e,type:"daterange",clearable:""},null,8,["value","onUpdate:value"])])),_:2},1024)])),_:2},1024),y(p,null,{default:b((()=>[y(u,{label:"收款状态","show-feedback":!1,path:"phone"},{default:b((()=>[y(f,{value:t.filter.saleValue,"onUpdate:value":e=>t.filter.saleValue=e,clearable:"",options:v(q)},null,8,["value","onUpdate:value","options"])])),_:2},1024)])),_:2},1024),y(p,null,{default:b((()=>[y(u,{label:"单据状态","show-feedback":!1,path:"user.name"},{default:b((()=>[y(f,{value:t.filter.stateValue,"onUpdate:value":e=>t.filter.stateValue=e,placeholder:"Select",options:v(E)},null,8,["value","onUpdate:value","options"])])),_:2},1024)])),_:2},1024),y(p,null,{default:b((()=>[y(u,{label:"电话号码",path:"phone","show-feedback":!1},{default:b((()=>[y(n,{value:t.filter.phone,"onUpdate:value":e=>t.filter.phone=e,placeholder:"电话号码"},null,8,["value","onUpdate:value"])])),_:2},1024)])),_:2},1024),y(p,null,{default:b((()=>[y(u,{label:"电话号码",path:"phone","show-feedback":!1},{default:b((()=>[y(n,{value:t.filter.phone,"onUpdate:value":e=>t.filter.phone=e,placeholder:"电话号码"},null,8,["value","onUpdate:value"])])),_:2},1024)])),_:2},1024),y(p,null,{default:b((()=>[y(u,{label:"电话号码",path:"phone","show-feedback":!1},{default:b((()=>[y(n,{value:t.filter.phone,"onUpdate:value":e=>t.filter.phone=e,placeholder:"电话号码"},null,8,["value","onUpdate:value"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["collapsed"])])),_:2},1032,["model"])])),"bar-left":b((()=>[y(Q,null,{default:b((()=>[y(U,{type:"primary",icon:v(o),onClick:v(I)},{default:b((()=>a[0]||(a[0]=[k("新增")]))),_:1},8,["icon","onClick"]),y(v(j),{strong:"",secondary:""},{default:b((()=>a[1]||(a[1]=[k("下载模板")]))),_:1}),y(v(j),{strong:"",secondary:""},{default:b((()=>a[2]||(a[2]=[k("批量导入")]))),_:1}),y(v(j),{strong:"",secondary:""},{default:b((()=>a[3]||(a[3]=[k("导出Excel")]))),_:1}),y(v(j),{strong:"",secondary:""},{default:b((()=>a[4]||(a[4]=[k("打印")]))),_:1}),y(x,{trigger:"hover",options:$},{default:b((()=>[y(v(j),null,{default:b((()=>a[5]||(a[5]=[k("更多...")]))),_:1})])),_:1})])),_:1})])),_:1},8,["columns","api"])])),_:1})}}});export{B as default};
