import{d as e,k as t,bA as s,u as a,l as i,c as n,w as l,e as o,L as r,o as d,b as u,bB as c,h as p,j as m,B as f}from"./index-DMvMf093.js";import{_ as y}from"./CurrentPermissionMode.vuevuetypescriptsetuptruelang-CqWi3RTO.js";import{_ as b}from"./Alert-CyqYwvtu.js";import{_ as g}from"./Space-l8HuO4CC.js";import"./get-slot-BjAOOWF7.js";const h=e({__name:"index",setup(e){const h=t(),{isBackendPermissionMode:k,refreshMenu:_}=s(),{t:v}=a();function M(e){return t=this,s=null,a=function*(){const t=`${e}FakeToken`;h.setToken(t),yield h.getUserInfoAction(),yield _()},new Promise(((e,i)=>{var n=e=>{try{o(a.next(e))}catch(t){i(t)}},l=e=>{try{o(a.throw(e))}catch(t){i(t)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,l);o((a=a.apply(t,s)).next())}));var t,s,a}const j=i((()=>h.getRoleList.includes(c.ADMIN))),A=i((()=>h.getRoleList.includes(c.USER)));return(e,t)=>{const s=b,a=f,i=g,h=r;return d(),n(h,{title:o(v)("page.permission.pageTitles.backend")},{default:l((()=>[u(y),u(s,{class:"my-4",type:"info",title:o(v)("page.permission.clickToSeeLeftMenuChange"),"show-icon":""},null,8,["title"]),u(h,{class:"mt-4",title:o(v)("page.permission.backendPermissionSwitchTitle"),embedded:"",bordered:!1},{default:l((()=>[u(i,null,{default:l((()=>[u(a,{type:o(j)?"primary":"default",disabled:!o(k),onClick:t[0]||(t[0]=e=>M(o(c).ADMIN))},{default:l((()=>[p(m(o(c).ADMIN),1)])),_:1},8,["type","disabled"]),u(a,{type:o(A)?"primary":"default",disabled:!o(k),onClick:t[1]||(t[1]=e=>M(o(c).USER))},{default:l((()=>[p(m(o(c).USER),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1},8,["title"])])),_:1},8,["title"])}}});export{h as default};
