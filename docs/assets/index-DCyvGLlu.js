import{d as e,k as t,bp as s,u as a,l as i,e as n,w as l,g as o,bq as r,K as d,o as u,f as c,j as p,t as m,B as f}from"./index-MskScSmw.js";import{_ as y,a as g}from"./CurrentPermissionMode.vuevuetypescriptsetuptruelang-Br43hiB4.js";import{_ as b}from"./Space-EbjOeIIa.js";import"./get-slot-BjAOOWF7.js";const k=e({__name:"index",setup(e){const k=t(),{isBackendPermissionMode:h,refreshMenu:_}=s(),{t:v}=a();function M(e){return t=this,s=null,a=function*(){const t=`${e}FakeToken`;k.setToken(t),yield k.getUserInfoAction(),yield _()},new Promise(((e,i)=>{var n=e=>{try{o(a.next(e))}catch(t){i(t)}},l=e=>{try{o(a.throw(e))}catch(t){i(t)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,l);o((a=a.apply(t,s)).next())}));var t,s,a}const S=i((()=>k.getRoleList.includes(r.ADMIN))),j=i((()=>k.getRoleList.includes(r.USER)));return(e,t)=>{const s=g,a=f,i=b,k=d;return u(),n(k,{title:o(v)("page.permission.pageTitles.backend")},{default:l((()=>[c(y),c(s,{class:"my-4",type:"info",title:o(v)("page.permission.clickToSeeLeftMenuChange"),"show-icon":""},null,8,["title"]),c(k,{class:"mt-4",title:o(v)("page.permission.backendPermissionSwitchTitle"),embedded:"",bordered:!1},{default:l((()=>[c(i,null,{default:l((()=>[c(a,{type:o(S)?"primary":"default",disabled:!o(h),onClick:t[0]||(t[0]=e=>M(o(r).ADMIN))},{default:l((()=>[p(m(o(r).ADMIN),1)])),_:1},8,["type","disabled"]),c(a,{type:o(j)?"primary":"default",disabled:!o(h),onClick:t[1]||(t[1]=e=>M(o(r).USER))},{default:l((()=>[p(m(o(r).USER),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1},8,["title"])])),_:1},8,["title"])}}});export{k as default};
